<form
  class="import-restore-page__form"
  *transloco="let translate; read: 'login.import_restore_page'"
  [formGroup]="form"
  (ngSubmit)="onSubmit()"
  appSubmitSource
>
  <section class="import-restore-page__section">
    <div
      class="import-restore-page__section__title"
      appTypeface="subheader"
      [ngSwitch]="currentPageType"
    >
      <ng-container *ngSwitchCase="pageType.IMPORT_ACCOUNT">{{ translate('import.title') }}</ng-container>
      <ng-container *ngSwitchDefault>{{ translate('restore.title') }}</ng-container>
    </div>

    <div
      class="import-restore-page__section__subtitle"
      appTypeface="paragraph"
    >
      {{ translate('form.seed.subtitle') }}
    </div>

    <app-input-container class="import-restore-page__field">
      <app-input
        class="import-restore-page__input"
        type="password"
        rows="2"
        [testId]="'seed-phrase'"
        formControlName="seedPhrase"
      >
        <ng-container ngProjectAs="[label]">
          {{ translate('form.seed.label') }}
        </ng-container>
      </app-input>

      <app-form-error controlName="seedPhrase" i18nControlKey="seed"></app-form-error>
    </app-input-container>
  </section>

  <section class="import-restore-page__section">
    <div
      class="import-restore-page__section__title"
      appTypeface="subheader"
    >
      {{ translate('form.password.title') }}
    </div>

    <app-password-validation-state
      class="import-restore-page__section__subtitle"
      [password]="passwordControl.value"
      [translationsConfig]="{ read: 'shared.password.validation_state', scope: 'shared' }"
    ></app-password-validation-state>

    <app-password-form
      class="import-restore-page__field"
      formControlName="password"
      [required]="true"
      [translationsConfig]="{ read: 'core.profile_form', scope: 'core' }"
    ></app-password-form>
  </section>

  <div class="import-restore-page__divider"></div>

  <div class="import-restore-page__actions">
    <button
      class="import-restore-page__action-button"
      app-button
      color="grey"
      size="md"
      appTestId="back-to-welcome"
      (click)="navigateBack()"
    >
      {{ translate('back') }}
    </button>

    <button
      class="import-restore-page__action-button"
      app-button
      color="primary"
      size="md"
      type="submit"
      [ngSwitch]="currentPageType"
      appTestId="login-button"
    >
      <ng-container *ngSwitchCase="pageType.IMPORT_ACCOUNT">{{ translate('import.submit') }}</ng-container>
      <ng-container *ngSwitchDefault>{{ translate('restore.submit') }}</ng-container>
    </button>
  </div>
</form>
