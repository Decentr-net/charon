<ng-container *appSlot="headerContentSlotName">
  <app-hub-navigation></app-hub-navigation>
</ng-container>

<div class="posts-page__section-top">
  <app-hub-infinite-posts-container
    [canLoadMore]="false"
    [isLoading]="isLoading$ | async"
  >
    <div class="posts-page__posts-grid-container">
      <app-hub-post-card
        *ngFor="let post of posts$ | async | slice : 0 : 8; trackBy: trackByPostId"
        [post]="post"
        [disableCategory]="!!postsCategory"
        [appHubPostDialog]="post.uuid"
      ></app-hub-post-card>
    </div>
  </app-hub-infinite-posts-container>
</div>

<div class="posts-page__section-left">
  <ng-container *ngIf="posts$ | async as posts">
    <app-hub-infinite-posts-container
      *ngIf="posts?.length > 0"
      [canLoadMore]="canLoadMore$ | async"
      [isLoading]="isLoading$ | async"
      (loadMore)="loadMore()"
    >
      <app-hub-post-card
        class="posts-page__horizontal-post"
        *ngFor="let post of posts | slice : 8; trackBy: trackByPostId"
        [post]="post"
        [disableCategory]="!!postsCategory"
        [appHubPostDialog]="post.uuid"
        [orientation]="'horizontal'"
      ></app-hub-post-card>
    </app-hub-infinite-posts-container>
  </ng-container>
</div>

<div class="posts-page__section-right">
  <ng-container *ngIf="(posts$ | async)?.length > 0">
    <div
      class="posts-page__top-posts__header"
      *transloco="let translate; read: 'hub.hub_posts_page'"
      appTypeface="subheader"
    >
      {{ translate('top_posts') }}
    </div>

    <app-hub-top-posts [category]="postsCategory"></app-hub-top-posts>
  </ng-container>
</div>
