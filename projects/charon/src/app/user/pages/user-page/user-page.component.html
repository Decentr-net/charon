<ng-container *transloco="let translate; read: 'user.user_page'">
  <div class="page-home" *ngIf="user$ | async as user">
    <div class="container" [class.no-padding]="matchMediaService.isSmall()">
      <div class="user-nav-wrapper">
        <div>
          <ng-template [appSlotContainer]="headerSlotName"></ng-template>
        </div>

        <div class="user-data">
          <div
            class="user-data__inner"
            [appCopyWalletAddress]="user.wallet.address"
            [matTooltip]="translate('copy_wallet_address')"
          >
            <div class="wallet-username">
              {{ user.firstName }} {{ user.lastName }}
            </div>

            <div class="wallet-id">
              {{ user.wallet.address }}
            </div>
          </div>
        </div>

        <div class="menu">
          <div
            class="menu-button"
            [matMenuTriggerFor]="selectUserMenu"
          >
            <div class="menu-button__inner">
              <span></span>
            </div>
          </div>
        </div>
      </div>

      <router-outlet></router-outlet>

      <app-toolbar-toggle
        class="user-page__toolbar-toggle"
        *ngIf="!isOpenedInTab"
      ></app-toolbar-toggle>

    </div>
  </div>

  <mat-menu
    #selectUserMenu="matMenu"
    class="selectUserMenu"
  >
    <ng-template matMenuContent>
      <div class="menu-wrapper">
        <div class="menu-items">
          <div
            class="menu-item menu-item__active"
            *ngIf="matchMediaService.isSmall()"
            (click)="expandView()"
          >
            <div
              class="icon"
              [resolveSVGUrl]="false"
              [inlineSVG]="'assets/images/icons/expand.svg'"
            ></div>

            <div class="menu-item__name">
              {{ translate('expand_view') }}
            </div>
          </div>

          <div class="menu-item" [routerLink]="[userRoute.Edit]">
            <div
              class="icon"
              [resolveSVGUrl]="false"
              [inlineSVG]="'assets/images/icons/user.svg'">
            </div>

            <div class="menu-item__name">
              {{ translate('account_details') }}
            </div>
          </div>
        </div>
      </div>
    </ng-template>
  </mat-menu>
</ng-container>
