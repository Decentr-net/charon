<ng-container *transloco="let translate; read: 'user.user_page'">
  <ng-container *ngIf="data.length > 1; else noData">
    <div class="chart-legend">
      <ng-container *ngIf="rate">
        <div>
          <div class="chart-legend__rate">{{ rate | pdvValue }} PDV</div>
          <div class="chart-legend__date">{{ rateDate }}</div>
        </div>
        <app-pdv-rate-margin-icon
          class="pdv-rate-margin"
          [rateMargin]="rateMargin"
        ></app-pdv-rate-margin-icon>
      </ng-container>
    </div>

    <div
      #chartLine
      class="d3-chart"
      (window:resize)="onResize($event)"
    ></div>

    <ul class="chart-filter-buttons">
      <li>1W</li>
      <li>1M</li>
      <li>3M</li>
      <li>6M</li>
      <li>1Y</li>
      <li class="active">ALL</li>
    </ul>
  </ng-container>

  <ng-template #noData>
    <div class="no-data">
      <ng-container *ngIf="data.length === 1">{{ translate('not_enough_pdv_rate') }}</ng-container>
      <ng-container *ngIf="data.length < 1">{{ translate('no_pdv_rate') }}</ng-container>
    </div>
  </ng-template>
</ng-container>
